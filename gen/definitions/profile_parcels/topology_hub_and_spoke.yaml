---
name: Topology Hub and Spoke
rest_endpoint: /v1/feature-profile/sdwan/topology/%v/hubspoke
minimum_version: 20.12.0
test_tags: [SDWAN_2012]
parcel_type: feature
doc_category: Features - Topology
attributes:
  - tf_name: feature_profile_id
    reference: true
    type: String
    mandatory: true
    description: Feature Profile ID
    example: f6dd22c8-0b4f-496c-9a0b-6813d1f8b8ac
    test_value: sdwan_topology_feature_profile.test.id
  - model_name: vpn
    data_path: [target]
    example: edge_basic_vpn1
  - model_name: selectedHubs
    tf_name: hub_sites
    example: site_100
  - model_name: spokes
    tf_name: spoke_groups
    attributes:
    - model_name: name
      example: sj_11
    - model_name: spokeSites
      tf_name: sites
      example: site_100
    - model_name: hubSites
      tf_name: hub_preferences
      attributes:
        - model_name: sites
          tf_name:
          example: site_1000
        - model_name: preference
          tf_name:
          example: 30

test_prerequisites: |
  resource "sdwan_topology_feature_profile" "test" {
    name        = "TF_TEST"
    description = "My topology feature profile 1"
  }